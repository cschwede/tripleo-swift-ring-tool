resource_registry:
  OS::TripleO::NodeExtraConfigPost: swift_disk.yaml

parameter_defaults:
  # Disable default ring building on the nodes
  SwiftRingBuild: false
  RingBuild: false

  # Enable mount_check in account/conter/object server config
  SwiftMountCheck: true
  MountCheck: true

  # Make sure we use tagged nodes only, to predict hostnames
  ControllerSchedulerHints:
    'capabilities:node': 'controller-%index%'
  ObjectStorageSchedulerHints:
    'capabilities:node': 'objectstorage-%index%'
  NovaComputeSchedulerHints:
    'capabilities:node': 'novacompute-%index%'
  BlockStorageSchedulerHints:
    'capabilities:node': 'blockstorage-%index%'
  CephStorageSchedulerHints:
    'capabilities:node': 'cephstorage-%index%'

  # An example storage policy
  controllerExtraConfig:
    controller_classes:
      - swift::config
    swift::config::swift_config:
      storage-policy:0/name:
        value: 'standard'
      storage-policy:0/policy_type:
        value: 'replication'
      storage-policy:0/default:
        value: 'yes'
